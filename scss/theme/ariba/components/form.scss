@import "./../settings";
@import "./../../../mixins";
@import "./../../../icons/mixins";
@import "./../../../functions";
/*!
.fd-form
    .fd-form__set?
        .fd-form__legend(.is-required)
        .fd-form__group?
            .fd-form__item+(--check, --inline)
                .fd-form__label(.is-required)
                .fd-form__control
            .fd-form__message(--help, --error, --warning)

*/

$block: #{$fd-namespace}-form;

    //LOCAL VARS (set all vars used in component, always include !default)
    $fd-form-label-font-size: "-1" !default;
    $fd-form-label-font-size--check: "0" !default;
    $fd-form-label-color: fd-color(text, 3) !default;
    $fd-form-message-font-size: -1 !default;
    $fd-form-message-color: fd-color(text, 2) !default;
    $fd-form-item-gutter: $fd-width--gutter !default;
    $fd-form-item-margin-bottom: fd-space(5) !default;

.#{$block} {
    //@include fd-reset;
    //&__group {
    //    @include fd-clearfix;
    //    @include fd-last-child;
    //    .#{$block}__item {
    //        @include fd-last-child;
    //        margin-right: $fd-form-item-gutter;
    //    }
    //}
    &__set {
        //margin-bottom: $fd-form-item-margin-bottom;
        //.#{$block}__item {
        //    &--inline {
        //        @include fd-screen(s) {
        //          margin-bottom: 0;
        //        }
        //    }
        //}
        .#{$block}__message {
            margin-top: 0;
        }
    }
    &__item {

        &.--error, &.is-invalid {

                //color: map-get($fd-colors-status, 6);
                & .#{$block}__control {
                    //border-color: map-get($fd-colors-status, 6);
                }
            }
        &.--warning {
            color: map-get($fd-colors-status, 2);
            & .#{$block}__control {
                border-color: map-get($fd-colors-status, 2);
            }
        }
        &.--success {
            color: map-get($fd-colors-status, 1);
            & .#{$block}__control {
                border-color: map-get($fd-colors-status, 1);
            }
        }
    //        .#{$block}__help {
    //            float: none;
    //            margin-left: fd-space(3);
    //        }
    //    }
    //    &--inline {
    //        float: left;
    //        .#{$block}__label {
    //            margin-top: fd-space(1);
    //            width: auto;
    //        }
    //    }
    }
    //&__label,
    //&__legend {
    //    @include fd-reset;
    //    @include fd-type(#{$fd-form-label-font-size});
    //    display: block;
    //    margin-bottom: fd-space(2);
    //    border: 0;
    //    color: $fd-form-label-color;
    //    &.is-required {
    //        @include fd-weight(bold);
    //
    //        &:after {
    //            content: "*";
    //        }
    //    }
    //}
    &__control {
        min-width: $fd-forms-height--input-check;
        &.is-invalid {
            border-color: map-get($fd-colors-status, 3);
            padding-right: 30px;

        }
        &.is-warning {
            border-color: map-get($fd-colors-status, 2);
            padding-right: 30px;
        }
    }
    //&__legend {
    //    margin-bottom: fd-space(5);
    //}
    //&__help {
    //    float: right;
    //}
    &__message {
    //    clear: both;
    //    display: block;
    //    @include fd-type(#{$fd-form-message-font-size});
        color: inherit;
        padding: 1px 0;
        font-size: 12px;
        height: 12px;

        //position: relative;
    //    //adjust for checks
    //    @at-root {
    //        .#{$block}__item--check + & {
    //            transform: translateY(-(fd-space(3)));
    //            margin-bottom: -(fd-space(3));
    //        }
    //        .#{$block}__item--inline.#{$block}__item--check + & {
    //            transform: translateY(fd-space(2));
    //            margin-bottom: fd-space(2);
    //        }
    //    }
        @include fd-icon-base("before");
        &::before {
            background-color: transparent !important;
            font-family: "Ariba-icons";
            width: 18px;
            height: 18px;
            color: inherit;
            border-radius: 50%;
            text-align: center;
            line-height: 18px;
            font-size: 20px;
            border: 0px;
            margin-top: -36px;
            float: right;
            position: relative;
            margin-right: 6px;
        }
        &--warning, &--error, &--help {
            padding-left: 0px;
            &::before {
                left: 0;
                top: 7px;
            }
        }
        &--help {
            color: fd-color(text);
            &::before {
                content: "?";
            }
        }
        &--warning {
            color: $fd-color--warning;
            &::before {
                content: "\eA9d";
            }
        }
        &--error {
            color: $fd-color--error;
            &::before {
                content: "\eA9c";
            }
        }
    }
}

[dir='rtl'] .#{$block} {

    &__group {
        .#{$block}__item {
            margin-left: $fd-form-item-gutter;
            margin-right: 0px;
        }
    }
    &__item {
        &--check {
            .#{$block}__control {
                margin-left: fd-space(2);
                margin-right: 0px;
                &[type='checkbox'],
                &[type='radio'] {
                    float: right;
                }
            }
        }
        &--inline {
            float: right;
        }
    }

    &__control {
        &.is-invalid {
            padding-right: fd-space(3);
            padding-left: fd-space(7) + 2;

        }
        &.is-warning {
            padding-right: fd-space(3);
            padding-left: fd-space(7) + 2;
        }
    }

    &__message {
        &::before {
            float: left;
            margin-left: 6px;
        }
    }
}